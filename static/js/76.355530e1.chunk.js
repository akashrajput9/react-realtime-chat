"use strict";(self.webpackChunkchat=self.webpackChunkchat||[]).push([[76],{7148:function(e,n,t){t.d(n,{Z:function(){return v}});var i=t(4165),r=t(5861),s=t(6015),a=t(4162),c=t(3423),o=t(1835),l=t(4565),d=t(294),u=t(4142),h=t(5670),x=t.p+"static/media/group-icon.e5cb3c5eb890b0f37932.png",Z=t(5623),j=t(159),p=t(4420),f=t(2789),g=t(184),v=function(e){var n=e.id,t=e.is_group,v=e.name,m=e.users,b=e.created_at,w=e.is_online,C=e.last_message,k=e.unread_count,I=(0,u.Z)(),y=t?x:m[0].profile_photo,S=t?v:m[0].name,W=(0,p.v9)((function(e){return e.auth})).token,F=function(){var t=(0,r.Z)((0,i.Z)().mark((function t(){var r,s;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,f.I)("/chat/messages",W,{conversation_id:n});case 2:r=t.sent,(s=null===r||void 0===r?void 0:r.data).conversation_element=e,(0,Z.WI)((0,j.Z)(s));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return console.log(e,"props"),(0,g.jsx)(s.Z,{sx:{width:"100%",borderRadius:1,backgroundColor:"light"===I.palette.mode?"#fff":I.palette.background.default},onClick:F,p:2,children:(0,g.jsxs)(a.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,g.jsxs)(a.Z,{direction:"row",spacing:2,children:[w?(0,g.jsx)(h.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:(0,g.jsx)(c.Z,{src:y})}):(0,g.jsx)(c.Z,{src:y}),(0,g.jsx)(o.Z,{}),(0,g.jsxs)(a.Z,{spacing:.3,children:[(0,g.jsx)(l.Z,{variant:"subtitle2",children:S}),(0,g.jsx)(l.Z,{variant:"caption",children:null===C||void 0===C?void 0:C.content})]})]}),(0,g.jsxs)(a.Z,{spacing:2,alignItems:"center",children:[(0,g.jsx)(l.Z,{sx:{fontWeight:600},variant:"caption",children:b}),(0,g.jsx)(d.Z,{color:"primary",badgeContent:k})]})]})})}},3614:function(e,n,t){t.d(n,{ol:function(){return s},cB:function(){return a},el:function(){return o}});var i=t(277),r=t(2065),s=(0,i.ZP)("div")((function(e){var n=e.theme;return{position:"relative",borderRadius:20,backgroundColor:(0,r.Fq)(n.palette.background.default,1),marginRight:n.spacing(2),marginLeft:0,width:"100%"}})),a=(0,i.ZP)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),c=t(1169),o=(0,i.ZP)(c.ZP)((function(e){var n=e.theme;return{color:"inherit","& .MuiInputBase-input":{padding:n.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(n.spacing(4),")"),width:"100%"}}}))},6522:function(e,n,t){var i=t(1413),r=(t(2791),t(1134)),s=t(184);n.Z=function(e){var n=e.children,t=e.onSubmit,a=e.methods;return(0,s.jsx)(r.RV,(0,i.Z)((0,i.Z)({},a),{},{children:(0,s.jsx)("form",{onSubmit:t,children:n})}))}},172:function(e,n,t){t.d(n,{Z:function(){return d}});var i=t(1413),r=t(5987),s=t(1134),a=t(2262),c=t(5533),o=t(184),l=["name","label","helperText"];function d(e){var n=e.name,t=e.label,d=e.helperText,u=(0,r.Z)(e,l),h=(0,s.Gc)(),x=h.control,Z=h.setValue;return(0,o.jsx)(s.Qr,{name:n,control:x,render:function(e){var r=e.field,s=e.fieldState.error;return(0,o.jsx)(a.Z,(0,i.Z)((0,i.Z)((0,i.Z)({},r),{},{fullWidth:!0,value:"number"===typeof r.value&&0===r.value?"":r.value,onChange:function(e,t){return Z(n,t,{shouldValidate:!0})},error:!!s},u),{},{renderInput:function(e){return(0,o.jsx)(c.Z,(0,i.Z)({label:t,error:!!s,helperText:s?s.message:d},e))}}))}})}},4499:function(e,n,t){t.d(n,{a:function(){return l}});t(6522);var i=t(1413),r=t(5987),s=t(1134),a=t(5533),c=t(184),o=["name","helperText"];function l(e){var n=e.name,t=e.helperText,l=(0,r.Z)(e,o),d=(0,s.Gc)().control;return(0,c.jsx)(s.Qr,{name:n,control:d,render:function(e){var n=e.field,r=e.fieldState.error;return(0,c.jsx)(a.Z,(0,i.Z)((0,i.Z)({},n),{},{fullWidth:!0,value:"number"===typeof n.value&&0===n.value?"":n.value,error:!!r,helperText:r?r.message:t},l))}})}},5127:function(e,n,t){t.r(n),t.d(n,{default:function(){return je}});var i=t(2791),r=t(1413),s=t(885),a=t(6015),c=t(4162),o=t(4565),l=t(6283),d=t(3811),u=t(1872),h=t(997),x=t(703),Z=t(7320),j=t(6991),p=t(4142),f=t(155),g=t(3614),v=t(7148),m=t(2789),b=t(5623),w=t(1317),C=t(4420),k=t(4165),I=t(5861),y=t(4695),S=t(2232),W=t(788),F=t(464),R=t(8440),T=t(1134),A=t(8007),N=t(6522),M=(t(4499),t(172)),_=t(8916),D=(t(2460),t(184)),E=i.forwardRef((function(e,n){return(0,D.jsx)(S.Z,(0,r.Z)({direction:"up",ref:n},e))})),O=function(e){var n=e.handleClose,t=(0,C.v9)((function(e){return e.users})).users,a=(0,C.v9)((function(e){return e.auth})).token,o=(0,i.useState)(!1),l=(0,s.Z)(o,2),d=l[0],u=l[1];(0,i.useEffect)((function(){try{var e;("undefined"===typeof t.data||(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.length)<1)&&(u(!0),(0,m.I)("/users",a).then((function(e){(0,b.WI)((0,_.HM)(e.data)),u(!1)})))}catch(n){console.log(n,"errror")}}),[]);var x=A.Ry().shape({user:A.Ry().shape({id:A.Rx().required(),name:A.Z_().required()}).nullable().required("User is required")}),Z=(0,T.cI)({resolver:(0,y.X)(x),defaultValues:{user:null}}),j=Z.handleSubmit,p=Z.setValue,f=(Z.watch,Z.formState.errors,function(){var e=(0,I.Z)((0,k.Z)().mark((function e(n){var t;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{(0,m.I)("/chat/create",a,{user_id:null===n||void 0===n||null===(t=n.user)||void 0===t?void 0:t.id},"POST").then((function(e){console.log(e,"resss---")})),console.log("Data",n)}catch(i){console.log(i)}case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());return(0,D.jsx)(N.Z,{methods:Z,onSubmit:j(f),children:(0,D.jsxs)(c.Z,{spacing:3,children:[d?(0,D.jsx)(D.Fragment,{}):(0,D.jsx)(M.Z,{name:"user",label:"User",options:null===t||void 0===t?void 0:t.data,getOptionLabel:function(e){return(null===e||void 0===e?void 0:e.name)||""},isOptionEqualToValue:function(e,n){return e.id===(null===n||void 0===n?void 0:n.id)},onChange:function(e,n){return p("user",n)},renderOption:function(e,n){return(0,i.createElement)("li",(0,r.Z)((0,r.Z)({},e),{},{key:n.id}),n.name)}}),(0,D.jsxs)(c.Z,{spacing:2,direction:"row",alignItems:"center",justifyContent:"end",children:[(0,D.jsx)(h.Z,{onClick:n,children:"Cancel"}),(0,D.jsx)(h.Z,{type:"submit",variant:"contained",children:"Create"})]})]})})},P=function(e){var n=e.open,t=e.handleClose;return(0,D.jsxs)(W.Z,{fullWidth:!0,maxWidth:"xs",open:n,TransitionComponent:E,keepMounted:!0,sx:{p:4},children:[(0,D.jsx)(F.Z,{sx:{mb:3},children:"New Chat"}),(0,D.jsx)(R.Z,{children:(0,D.jsx)(O,{handleClose:t})})]})},V=t(5909),q=function(){var e=(0,p.Z)(),n=(0,C.v9)((function(e){return e.auth})).token,t=(0,C.v9)((function(e){return e.chats})).chats,f=(0,i.useState)(!1),k=(0,s.Z)(f,2),I=k[0],y=k[1];return(0,i.useEffect)((function(){(0,m.I)("/chat",n).then((function(e){if(401==(null===e||void 0===e?void 0:e.status))(0,b.WI)((0,w.kS)());else if(1==e.success){var n,t,i,r;console.log(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(t=n.conversations)||void 0===t?void 0:t.data,"data api chats"),(0,b.WI)((0,V.OK)(null===e||void 0===e||null===(i=e.data)||void 0===i||null===(r=i.conversations)||void 0===r?void 0:r.data))}}))}),[]),(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(a.Z,{sx:{position:"relative",width:320,backgroundColor:"light"===e.palette.mode?"#F8FAFF":e.palette.background.paper,boxShadow:"0px 0px 2px rgba(0,0,0,0.25)"},children:(0,D.jsxs)(c.Z,{p:3,spacing:2,sx:{height:"100vh"},children:[(0,D.jsx)(c.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:(0,D.jsx)(o.Z,{variant:"h5",children:"Chats"})}),(0,D.jsx)(c.Z,{sx:{width:"100%"},children:(0,D.jsxs)(g.ol,{children:[(0,D.jsx)(g.cB,{children:(0,D.jsx)(x.Z,{color:"#709CE6"})}),(0,D.jsx)(g.el,{placeholder:"Search...",inputProps:{"aria-label":"search"}})]})}),(0,D.jsxs)(c.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,D.jsx)(o.Z,{variant:"subtitle2",component:l.Z,children:"New Chat"}),(0,D.jsx)(d.Z,{onClick:function(){y(!0)},children:(0,D.jsx)(Z.Z,{style:{color:e.palette.primary.main}})})]}),(0,D.jsx)(u.Z,{}),(0,D.jsxs)(c.Z,{spacing:1,children:[(0,D.jsxs)(c.Z,{direction:"row",alignItems:"center",spacing:1.5,children:[(0,D.jsx)(j.Z,{size:24}),(0,D.jsx)(h.Z,{children:"Archive"})]}),(0,D.jsx)(u.Z,{})]}),(0,D.jsx)(c.Z,{className:"scrollbar",spacing:2,direction:"column",sx:{flexGrow:1,overflow:"scroll",height:"100%"},children:(0,D.jsxs)(c.Z,{spacing:2.4,children:[(0,D.jsx)(o.Z,{variant:"subtitle2",sx:{color:"#676767"},children:"All Chats"}),t.map((function(e,n){return(0,D.jsx)(v.Z,(0,r.Z)({},e),n)}))]})})]})}),I&&(0,D.jsx)(P,{open:I,handleClose:function(){console.log("helel"),y(!1)}})]})},G=t(1385),L=t(9571),Y=t(7248),B=t(3423),H=t(2910),z=t(4059),K=t(9165),Q=t(8180),U=t(8037),X=t(1093),J=t(5041),$=t(4198),ee=t(6026),ne=t(2040),te=(t(9128),i.forwardRef((function(e,n){return(0,D.jsx)(S.Z,(0,r.Z)({direction:"up",ref:n},e))}))),ie=function(e){var n=e.open,t=e.handleClose;return(0,D.jsxs)(W.Z,{open:n,TransitionComponent:te,keepMounted:!0,onClose:t,"aria-describedby":"alert-dialog-slide-description",children:[(0,D.jsx)(F.Z,{children:"Block this contact"}),(0,D.jsx)(R.Z,{children:(0,D.jsx)(L.Z,{id:"alert-dialog-slide-description",children:"Are you sure you want to block this contact?"})}),(0,D.jsxs)(Y.Z,{children:[(0,D.jsx)(h.Z,{onClick:t,children:"Cancel"}),(0,D.jsx)(h.Z,{onClick:t,children:"Yes"})]})]})},re=function(e){var n=e.open,t=e.handleClose;return(0,D.jsxs)(W.Z,{open:n,TransitionComponent:te,keepMounted:!0,onClose:t,"aria-describedby":"alert-dialog-slide-description",children:[(0,D.jsx)(F.Z,{children:"Delete this chat"}),(0,D.jsx)(R.Z,{children:(0,D.jsx)(L.Z,{id:"alert-dialog-slide-description",children:"Are you sure you want to delete this chat?"})}),(0,D.jsxs)(Y.Z,{children:[(0,D.jsx)(h.Z,{onClick:t,children:"Cancel"}),(0,D.jsx)(h.Z,{onClick:t,children:"Yes"})]})]})},se=function(){var e=(0,p.Z)(),n=(0,C.I0)(),t=(0,i.useState)(!1),r=(0,s.Z)(t,2),l=r[0],x=r[1],Z=(0,i.useState)(!1),j=(0,s.Z)(Z,2),g=j[0],v=j[1];return(0,D.jsxs)(a.Z,{sx:{width:320,height:"100vh"},children:[(0,D.jsxs)(c.Z,{sx:{height:"100%"},children:[(0,D.jsx)(a.Z,{sx:{boxShadow:"0px 0px 2px rgba(0.25)",width:"100%",backgroundColor:"light"===e.palette.mode?"#F8FAFF":e.palette.background},children:(0,D.jsxs)(c.Z,{sx:{height:"100%",p:2},direction:"row",alignItems:"center",justifyContent:"space-between",spacing:3,children:[(0,D.jsx)(o.Z,{variant:"subtitle2",children:"Contact Info"}),(0,D.jsx)(d.Z,{onClick:function(){n((0,ee.Xk)())},children:(0,D.jsx)(H.Z,{})})]})}),(0,D.jsxs)(c.Z,{className:"scrollbar",sx:{height:"100%",position:"relative",flexGrow:1,overflowY:"scroll"},p:3,spacing:3,children:[(0,D.jsxs)(c.Z,{alignItems:"center",direction:"row",spacing:2,children:[(0,D.jsx)(B.Z,{src:f.We.image.avatar(),alt:f.We.name.firstName,sx:{height:64,width:64}}),(0,D.jsxs)(c.Z,{spacing:.5,children:[(0,D.jsx)(o.Z,{variant:"article",fontWeight:600,children:f.We.name.fullName()}),(0,D.jsx)(o.Z,{variant:"article",fontWeight:500,children:"+94 713725452"})]})]}),(0,D.jsxs)(c.Z,{direction:"row",alignItems:"center",justifyContent:"space-evenly",children:[(0,D.jsxs)(c.Z,{spacing:1,alignItems:"center",children:[(0,D.jsx)(d.Z,{children:(0,D.jsx)(z.Z,{})}),(0,D.jsx)(o.Z,{variant:"overline",children:"Voice"})]}),(0,D.jsxs)(c.Z,{spacing:1,alignItems:"center",children:[(0,D.jsx)(d.Z,{children:(0,D.jsx)(K.Z,{})}),(0,D.jsx)(o.Z,{variant:"overline",children:"Video"})]})]}),(0,D.jsx)(u.Z,{}),(0,D.jsxs)(c.Z,{spacing:.5,children:[(0,D.jsx)(o.Z,{variant:"article",children:"About"}),(0,D.jsx)(o.Z,{variant:"body2",children:"Hi I'm working"})]}),(0,D.jsx)(u.Z,{}),(0,D.jsxs)(c.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,D.jsx)(o.Z,{variant:"subtitle2",children:"Media, Links & Docs"}),(0,D.jsx)(h.Z,{onClick:function(){n((0,ee.RW)("SHARED"))},endIcon:(0,D.jsx)(Q.Z,{}),children:"401"})]}),(0,D.jsx)(c.Z,{direction:"row",spacing:2,alignItems:"center",children:[1,2,3].map((function(e){return(0,D.jsx)(a.Z,{children:(0,D.jsx)("img",{src:f.We.image.food(),alt:f.We.name.fullName()})})}))}),(0,D.jsx)(u.Z,{}),(0,D.jsxs)(c.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,D.jsxs)(c.Z,{direction:"row",spacing:2,alignItems:"center",children:[(0,D.jsx)(U.Z,{size:21}),(0,D.jsx)(o.Z,{variant:"subtitle2",children:"Starred Messages"})]}),(0,D.jsx)(d.Z,{onClick:function(){n((0,ee.RW)("STARRED"))},children:(0,D.jsx)(Q.Z,{})})]}),(0,D.jsx)(u.Z,{}),(0,D.jsxs)(c.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,D.jsxs)(c.Z,{direction:"row",spacing:2,alignItems:"center",children:[(0,D.jsx)(X.Z,{size:21}),(0,D.jsx)(o.Z,{variant:"subtitle2",children:"Mute Notifications"})]}),(0,D.jsx)(ne.Z,{})]}),(0,D.jsx)(u.Z,{}),(0,D.jsx)(o.Z,{children:"1 group in common"}),(0,D.jsxs)(c.Z,{direction:"row",spacing:2,alignItems:"center",children:[(0,D.jsx)(B.Z,{src:f.We.image.avatar(),alt:f.We.name.fullName}),(0,D.jsxs)(c.Z,{spacing:.5,children:[(0,D.jsx)(o.Z,{variant:"subtitle2",children:"React Developers"}),(0,D.jsx)(o.Z,{variant:"caption",children:"Kaveena, Pavithra, Ayesha, You"})]})]}),(0,D.jsxs)(c.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,D.jsx)(h.Z,{onClick:function(){x(!0)},startIcon:(0,D.jsx)(J.Z,{}),fullWidth:!0,variant:"outlined",children:"Block"}),(0,D.jsx)(h.Z,{onClick:function(){v(!0)},startIcon:(0,D.jsx)($.Z,{}),fullWidth:!0,variant:"outlined",children:"Delete"})]})]})]}),l&&(0,D.jsx)(ie,{open:l,handleClose:function(){x(!1)}}),g&&(0,D.jsx)(re,{open:g,handleClose:function(){v(!1)}})]})},ae=t(4293),ce=t(8117),oe=t(5953),le=t(4559),de=t(9887),ue=t(4741),he=function(){var e=(0,p.Z)(),n=(0,C.I0)(),t=i.useState(0),r=(0,s.Z)(t,2),l=r[0],u=r[1];return(0,D.jsx)(a.Z,{sx:{width:320,height:"100vh"},children:(0,D.jsxs)(c.Z,{sx:{height:"100%"},children:[(0,D.jsx)(a.Z,{sx:{boxShadow:"0px 0px 2px rgba(0.25)",width:"100%",backgroundColor:"light"===e.palette.mode?"#F8FAFF":e.palette.background},children:(0,D.jsxs)(c.Z,{sx:{height:"100%",p:2},direction:"row",alignItems:"center",spacing:3,children:[(0,D.jsx)(d.Z,{onClick:function(){n((0,ee.RW)("CONTACT"))},children:(0,D.jsx)(le.Z,{})}),(0,D.jsx)(o.Z,{variant:"subtitle2",children:"Shared Messages"})]})}),(0,D.jsxs)(ae.Z,{sx:{px:2,pt:2},value:l,onChange:function(e,n){u(n)},centered:!0,children:[(0,D.jsx)(ce.Z,{label:"Media"}),(0,D.jsx)(ce.Z,{label:"Link"}),(0,D.jsx)(ce.Z,{label:"Docs"})]}),(0,D.jsx)(c.Z,{className:"scrollbar",sx:{height:"100%",position:"relative",flexGrow:1,overflowY:"scroll"},p:3,spacing:1===l?1:3,children:function(){switch(l){case 0:return(0,D.jsx)(oe.ZP,{container:!0,spacing:2,children:[0,1,2,3,4,5,6].map((function(e){return(0,D.jsx)(oe.ZP,{item:!0,xs:4,children:(0,D.jsx)("img",{src:f.We.image.avatar(),alt:f.We.name.fullName})})}))});case 1:return de.Hd.map((function(e){return(0,D.jsx)(ue.V5,{el:e})}));case 2:return de._r.map((function(e){return(0,D.jsx)(ue.RL,{el:e})}))}}()})]})})},xe=t(2386),Ze=function(){var e=(0,p.Z)(),n=(0,C.I0)();return(0,D.jsx)(a.Z,{sx:{width:320,height:"100vh"},children:(0,D.jsxs)(c.Z,{sx:{height:"100%"},children:[(0,D.jsx)(a.Z,{sx:{boxShadow:"0px 0px 2px rgba(0.25)",width:"100%",backgroundColor:"light"===e.palette.mode?"#F8FAFF":e.palette.background},children:(0,D.jsxs)(c.Z,{sx:{height:"100%",p:2},direction:"row",alignItems:"center",spacing:3,children:[(0,D.jsx)(d.Z,{onClick:function(){n((0,ee.RW)("CONTACT"))},children:(0,D.jsx)(le.Z,{})}),(0,D.jsx)(o.Z,{variant:"subtitle2",children:"Starred Messages"})]})}),(0,D.jsx)(c.Z,{className:"scrollbar",sx:{height:"100%",position:"relative",flexGrow:1,overflowY:"scroll"},p:3,spacing:3,children:(0,D.jsx)(xe.Z,{})})]})})},je=function(){var e=(0,p.Z)(),n=(0,C.v9)((function(e){return e.app})),t=n.sidebar;return(0,D.jsxs)(c.Z,{direction:"row",sx:{width:"100%"},children:[(0,D.jsx)(q,{}),(0,D.jsx)(a.Z,{sx:{height:"100%",width:t.open?"calc(100vw - 740px)":"calc(100vw - 420px)",backgroundColor:"light"===e.palette.mode?"#F0F4FA":e.palette.background.default},children:(0,D.jsx)(G.Z,{})}),t.open&&function(){switch(t.type){case"CONTACT":return(0,D.jsx)(se,{});case"STARRED":return(0,D.jsx)(Ze,{});case"SHARED":return(0,D.jsx)(he,{})}}()]})}},9128:function(){}}]);
//# sourceMappingURL=76.355530e1.chunk.js.map