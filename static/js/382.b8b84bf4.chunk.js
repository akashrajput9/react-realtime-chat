"use strict";(self.webpackChunkchat=self.webpackChunkchat||[]).push([[382],{7148:function(e,n,t){t.d(n,{Z:function(){return g}});var r=t(4165),i=t(5861),o=t(6015),a=t(4162),s=t(3423),c=t(1835),l=t(4565),u=t(294),d=t(4142),h=t(5670),p=t.p+"static/media/group-icon.e5cb3c5eb890b0f37932.png",f=t(5623),x=t(159),Z=t(4420),m=t(2789),v=t(184),g=function(e){var n=e.id,t=e.is_group,g=e.name,j=e.users,b=e.created_at,w=e.is_online,C=e.last_message,k=e.unread_count,y=(0,d.Z)(),S=t?p:j[0].profile_photo,I=t?g:j[0].name,T=(0,Z.v9)((function(e){return e.auth})).token,_=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(){var i,o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.I)("/chat/messages",T,{conversation_id:n});case 2:i=t.sent,(o=null===i||void 0===i?void 0:i.data).conversation_element=e,(0,f.WI)((0,x.Z)(o));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,v.jsx)(o.Z,{sx:{width:"100%",borderRadius:1,backgroundColor:"light"===y.palette.mode?"#fff":y.palette.background.default},onClick:_,p:2,children:(0,v.jsxs)(a.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,v.jsxs)(a.Z,{direction:"row",spacing:2,children:[w?(0,v.jsx)(h.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:(0,v.jsx)(s.Z,{src:S})}):(0,v.jsx)(s.Z,{src:S}),(0,v.jsx)(c.Z,{}),(0,v.jsxs)(a.Z,{spacing:.3,children:[(0,v.jsx)(l.Z,{variant:"subtitle2",children:I}),(0,v.jsx)(l.Z,{variant:"caption",children:null===C||void 0===C?void 0:C.content})]})]}),(0,v.jsxs)(a.Z,{spacing:2,alignItems:"center",children:[(0,v.jsx)(l.Z,{sx:{fontWeight:600},variant:"caption",children:b}),(0,v.jsx)(u.Z,{color:"primary",badgeContent:k})]})]})})}},3614:function(e,n,t){t.d(n,{ol:function(){return o},cB:function(){return a},el:function(){return c}});var r=t(277),i=t(2065),o=(0,r.ZP)("div")((function(e){var n=e.theme;return{position:"relative",borderRadius:20,backgroundColor:(0,i.Fq)(n.palette.background.default,1),marginRight:n.spacing(2),marginLeft:0,width:"100%"}})),a=(0,r.ZP)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),s=t(1169),c=(0,r.ZP)(s.ZP)((function(e){var n=e.theme;return{color:"inherit","& .MuiInputBase-input":{padding:n.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(n.spacing(4),")"),width:"100%"}}}))},5670:function(e,n,t){var r=t(225),i=t(294),o=(0,r.Z)(i.Z)((function(e){var n=e.theme;return{"& .MuiBadge-badge":{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(n.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}));n.Z=o},6522:function(e,n,t){var r=t(1413),i=(t(2791),t(1134)),o=t(184);n.Z=function(e){var n=e.children,t=e.onSubmit,a=e.methods;return(0,o.jsx)(i.RV,(0,r.Z)((0,r.Z)({},a),{},{children:(0,o.jsx)("form",{onSubmit:t,children:n})}))}},172:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(1413),i=t(5987),o=t(1134),a=t(2262),s=t(5017),c=t(184),l=["name","label","helperText"];function u(e){var n=e.name,t=e.label,u=e.helperText,d=(0,i.Z)(e,l),h=(0,o.Gc)(),p=h.control,f=h.setValue;return(0,c.jsx)(o.Qr,{name:n,control:p,render:function(e){var i=e.field,o=e.fieldState.error;return(0,c.jsx)(a.Z,(0,r.Z)((0,r.Z)((0,r.Z)({},i),{},{fullWidth:!0,value:"number"===typeof i.value&&0===i.value?"":i.value,onChange:function(e,t){return f(n,t,{shouldValidate:!0})}},d),{},{renderInput:function(e){return(0,c.jsx)(s.Z,(0,r.Z)((0,r.Z)({},e),{},{label:t,error:!!o,helperText:o?o.message:u}))}}))}})}},4499:function(e,n,t){t.d(n,{a:function(){return l}});t(6522);var r=t(1413),i=t(5987),o=t(1134),a=t(5017),s=t(184),c=["name","helperText"];function l(e){var n=e.name,t=e.helperText,l=(0,i.Z)(e,c),u=(0,o.Gc)().control;return(0,s.jsx)(o.Qr,{name:n,control:u,render:function(e){var n=e.field,i=e.fieldState.error;return(0,s.jsx)(a.Z,(0,r.Z)((0,r.Z)({},n),{},{fullWidth:!0,value:"number"===typeof n.value&&0===n.value?"":n.value,error:!!i,helperText:i?i.message:t},l))}})}},1957:function(e,n,t){t.r(n);var r=t(1413),i=t(885),o=t(4162),a=t(6015),s=t(4565),c=t(6283),l=t(3811),u=t(1872),d=t(2791),h=t(3614),p=t(703),f=t(7320),x=t(4142),Z=t(7578),m=(t(9128),t(2693),t(7148)),v=t(5058),g=t(2789),j=t(5623),b=t(1317),w=t(4420),C=t(184);n.default=function(){var e=(0,x.Z)(),n=(0,d.useState)(!1),t=(0,i.Z)(n,2),k=t[0],y=t[1],S=(0,d.useState)([]),I=(0,i.Z)(S,2),T=I[0],_=I[1],G=(0,w.v9)((function(e){return e.auth})).token;return(0,d.useEffect)((function(){(0,g.I)("/chat",G,{filter:"groups"}).then((function(e){if(console.log("api response",e),401==(null===e||void 0===e?void 0:e.status))console.log("lgin"),(0,j.WI)((0,b.kS)());else if(1==e.success){var n,t;_(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(t=n.conversations)||void 0===t?void 0:t.data)}}))}),[]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(o.Z,{direction:"row",sx:{width:"100%"},children:(0,C.jsx)(a.Z,{sx:{height:"100vh",backgroundColor:function(e){return"light"===e.palette.mode?"#F8FAFF":e.palette.background},width:320,boxShadow:"0px 0px 2px rgba(0,0,0,0.25)"},children:(0,C.jsxs)(o.Z,{p:3,spacing:2,sx:{maxHeight:"100vh"},children:[(0,C.jsx)(o.Z,{children:(0,C.jsx)(s.Z,{variant:"h5",children:"Group"})}),(0,C.jsx)(o.Z,{sx:{width:"100%"},children:(0,C.jsxs)(h.ol,{children:[(0,C.jsx)(h.cB,{children:(0,C.jsx)(p.Z,{color:"#709CE6"})}),(0,C.jsx)(h.el,{placeholder:"Search...",inputProps:{"aria-label":"search"}})]})}),(0,C.jsxs)(o.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,C.jsx)(s.Z,{variant:"subtitle2",component:c.Z,children:"Create New Group"}),(0,C.jsx)(l.Z,{onClick:function(){y(!0)},children:(0,C.jsx)(f.Z,{style:{color:e.palette.primary.main}})})]}),(0,C.jsx)(u.Z,{}),(0,C.jsx)(o.Z,{spacing:3,className:"scrollbar",sx:{flexGrow:1,overflowY:"scroll",height:"100%"},children:(0,C.jsx)(Z.l,{timeout:500,clickOnTrack:!1,children:(0,C.jsxs)(o.Z,{spacing:2.5,children:[(0,C.jsx)(s.Z,{variant:"subtitle2",sx:{color:"#676667"},children:"Pinned"}),(0,C.jsx)(s.Z,{variant:"subtitle2",sx:{color:"#676667"},children:"All Groups"}),T.map((function(e){return(0,C.jsx)(m.Z,(0,r.Z)({},e))}))]})})})]})})}),k&&(0,C.jsx)(v.Z,{open:k,handleClose:function(){y(!1)}})]})}},5058:function(e,n,t){t.d(n,{Z:function(){return C}});var r=t(4165),i=t(5861);var o=t(1413),a=t(4695),s=t(2232),c=t(4162),l=t(997),u=t(788),d=t(464),h=t(8440),p=t(2791),f=t(1134),x=t(8007),Z=t(6522),m=t(4499),v=t(172),g=t(184),j=["Neha","Arvin","Anas","Akash"],b=p.forwardRef((function(e,n){return(0,g.jsx)(s.Z,(0,o.Z)({direction:"up",ref:n},e))})),w=function(e){var n=e.handleClose,t=x.Ry().shape({title:x.Z_().required("Title is required"),members:x.IX().min(2,"Must have at least 2 members")}),o=(0,f.cI)({resolver:(0,a.X)(t),defaultValues:{title:"",members:[]}}),s=o.handleSubmit;!function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(o.formState);var u=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log("Data",n)}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,g.jsx)(Z.Z,{methods:o,onSubmit:s(u),children:(0,g.jsxs)(c.Z,{spacing:3,children:[(0,g.jsx)(m.a,{name:"title",label:"Title"}),(0,g.jsx)(v.Z,{name:"members",label:"Members",multiple:!0,freeSolo:!0,options:j.map((function(e){return e})),ChipProps:{size:"medium"}}),(0,g.jsxs)(c.Z,{spacing:2,direction:"row",alignItems:"center",justifyContent:"end",children:[(0,g.jsx)(l.Z,{onClick:n,children:"Cancel"}),(0,g.jsx)(l.Z,{type:"submit",variant:"contained",children:"Create"})]})]})})},C=function(e){var n=e.open,t=e.handleClose;return(0,g.jsxs)(u.Z,{fullWidth:!0,maxWidth:"xs",open:n,TransitionComponent:b,keepMounted:!0,sx:{p:4},children:[(0,g.jsx)(d.Z,{sx:{mb:3},children:"Create New Group"}),(0,g.jsx)(h.Z,{children:(0,g.jsx)(w,{handleClose:t})})]})}},9128:function(){}}]);
//# sourceMappingURL=382.b8b84bf4.chunk.js.map