"use strict";(self.webpackChunkchat=self.webpackChunkchat||[]).push([[76],{7148:function(e,n,i){i.d(n,{Z:function(){return v}});var t=i(4165),r=i(5861),s=i(6015),a=i(4162),c=i(3423),o=i(1835),l=i(4565),d=i(294),u=i(4142),h=i(5670),x=i.p+"static/media/group-icon.e5cb3c5eb890b0f37932.png",Z=i(5623),j=i(159),p=i(4420),f=i(2789),g=i(184),v=function(e){var n=e.id,i=e.is_group,v=e.name,m=e.users,b=e.created_at,w=e.is_online,C=e.last_message,k=e.unread_count,I=(0,u.Z)(),y=i?x:m[0].profile_photo,W=i?v:m[0].name,S=(0,p.v9)((function(e){return e.auth})).token,F=function(){var i=(0,r.Z)((0,t.Z)().mark((function i(){var r,s;return(0,t.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,f.I)("/chat/messages",S,{conversation_id:n});case 2:r=i.sent,(s=null===r||void 0===r?void 0:r.data).conversation_element=e,(0,Z.WI)((0,j.Z)(s));case 6:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}}();return(0,g.jsx)(s.Z,{sx:{width:"100%",borderRadius:1,backgroundColor:"light"===I.palette.mode?"#fff":I.palette.background.default},onClick:F,p:2,children:(0,g.jsxs)(a.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,g.jsxs)(a.Z,{direction:"row",spacing:2,children:[w?(0,g.jsx)(h.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:(0,g.jsx)(c.Z,{src:y})}):(0,g.jsx)(c.Z,{src:y}),(0,g.jsx)(o.Z,{}),(0,g.jsxs)(a.Z,{spacing:.3,children:[(0,g.jsx)(l.Z,{variant:"subtitle2",children:W}),(0,g.jsx)(l.Z,{variant:"caption",children:null===C||void 0===C?void 0:C.content})]})]}),(0,g.jsxs)(a.Z,{spacing:2,alignItems:"center",children:[(0,g.jsx)(l.Z,{sx:{fontWeight:600},variant:"caption",children:b}),(0,g.jsx)(d.Z,{color:"primary",badgeContent:k})]})]})})}},3614:function(e,n,i){i.d(n,{ol:function(){return s},cB:function(){return a},el:function(){return o}});var t=i(277),r=i(2065),s=(0,t.ZP)("div")((function(e){var n=e.theme;return{position:"relative",borderRadius:20,backgroundColor:(0,r.Fq)(n.palette.background.default,1),marginRight:n.spacing(2),marginLeft:0,width:"100%"}})),a=(0,t.ZP)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),c=i(1169),o=(0,t.ZP)(c.ZP)((function(e){var n=e.theme;return{color:"inherit","& .MuiInputBase-input":{padding:n.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(n.spacing(4),")"),width:"100%"}}}))},6522:function(e,n,i){var t=i(1413),r=(i(2791),i(1134)),s=i(184);n.Z=function(e){var n=e.children,i=e.onSubmit,a=e.methods;return(0,s.jsx)(r.RV,(0,t.Z)((0,t.Z)({},a),{},{children:(0,s.jsx)("form",{onSubmit:i,children:n})}))}},172:function(e,n,i){i.d(n,{Z:function(){return d}});var t=i(1413),r=i(5987),s=i(1134),a=i(2262),c=i(5017),o=i(184),l=["name","label","helperText"];function d(e){var n=e.name,i=e.label,d=e.helperText,u=(0,r.Z)(e,l),h=(0,s.Gc)(),x=h.control,Z=h.setValue;return(0,o.jsx)(s.Qr,{name:n,control:x,render:function(e){var r=e.field,s=e.fieldState.error;return(0,o.jsx)(a.Z,(0,t.Z)((0,t.Z)((0,t.Z)({},r),{},{fullWidth:!0,value:"number"===typeof r.value&&0===r.value?"":r.value,onChange:function(e,i){return Z(n,i,{shouldValidate:!0})}},u),{},{renderInput:function(e){return(0,o.jsx)(c.Z,(0,t.Z)((0,t.Z)({},e),{},{label:i,error:!!s,helperText:s?s.message:d}))}}))}})}},5127:function(e,n,i){i.r(n),i.d(n,{default:function(){return pe}});var t=i(2791),r=i(1413),s=i(885),a=i(6015),c=i(4162),o=i(4565),l=i(6283),d=i(3811),u=i(1872),h=i(997),x=i(703),Z=i(7320),j=i(6991),p=i(4142),f=i(155),g=i(3614),v=i(7148),m=i(2789),b=i(5623),w=i(1317),C=i(4420),k=i(4165),I=i(5861),y=i(4695),W=i(2232),S=i(788),F=i(464),R=i(8440),A=i(1134),T=i(8007),N=i(6522),_=i(172),M=i(8916),V=i(5909),D=i(159),E=i(184),O=t.forwardRef((function(e,n){return(0,E.jsx)(W.Z,(0,r.Z)({direction:"up",ref:n},e))})),P=function(e){var n=e.handleClose,i=(0,C.v9)((function(e){return e.users})).users,a=(0,C.v9)((function(e){return e.chats})).chats,o=(0,C.v9)((function(e){return e.auth})).token,l=(0,t.useState)(!1),d=(0,s.Z)(l,2),u=d[0],x=d[1];(0,t.useEffect)((function(){try{var e;"undefined"===typeof i.data||null===i||void 0===i||null===(e=i.data)||void 0===e||e.length,x(!0),(0,m.I)("/users",o).then((function(e){(0,b.WI)((0,M.HM)(e.data)),x(!1)}))}catch(n){console.log(n,"errror")}}),[]);var Z=T.Ry().shape({user:T.Ry().shape({id:T.Rx().required(),name:T.Z_().required()}).nullable().required("User is required")}),j=(0,A.cI)({resolver:(0,y.X)(Z),defaultValues:{user:null}}),p=j.handleSubmit,f=j.setValue,g=(j.watch,j.formState.errors,function(){var e=(0,I.Z)((0,k.Z)().mark((function e(i){var t;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{(0,m.I)("/chat/create",o,{user_id:null===i||void 0===i||null===(t=i.user)||void 0===t?void 0:t.id},"POST").then((function(e){if(e.success){var i,t;if(null===e||void 0===e||null===(i=e.data)||void 0===i||!i.already_exisists){var r=a.filter((function(n){var i;return n.id==(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.id)}));console.log(r),r||(0,b.WI)((0,V.VV)(e.data))}console.log("processing ",e.data);(0,m.I)("/chat/messages",o,{conversation_id:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.id}).then((function(i){console.log("processing dispatch ",i);var t=null===i||void 0===i?void 0:i.data;t.conversation_element=e.data,(0,b.WI)((0,D.Z)(t)),n()}))}})),console.log("Data",i)}catch(r){console.log(r)}case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());return console.log(null===i||void 0===i?void 0:i.data,"users data"),(0,E.jsx)(N.Z,{methods:j,onSubmit:p(g),children:(0,E.jsxs)(c.Z,{spacing:3,children:[u?(0,E.jsx)(E.Fragment,{}):(0,E.jsx)(_.Z,{name:"user",label:"User",options:null===i||void 0===i?void 0:i.data,getOptionLabel:function(e){return(null===e||void 0===e?void 0:e.name)||""},isOptionEqualToValue:function(e,n){return e.id===(null===n||void 0===n?void 0:n.id)},onChange:function(e,n){return f("user",n)},renderOption:function(e,n){return(0,t.createElement)("li",(0,r.Z)((0,r.Z)({},e),{},{key:n.id}),n.name)}}),(0,E.jsxs)(c.Z,{spacing:2,direction:"row",alignItems:"center",justifyContent:"end",children:[(0,E.jsx)(h.Z,{onClick:n,children:"Cancel"}),(0,E.jsx)(h.Z,{type:"submit",variant:"contained",children:"Create"})]})]})})},q=function(e){var n=e.open,i=e.handleClose;return(0,E.jsxs)(S.Z,{fullWidth:!0,maxWidth:"xs",open:n,TransitionComponent:O,keepMounted:!0,sx:{p:4},children:[(0,E.jsx)(F.Z,{sx:{mb:3},children:"New Chat"}),(0,E.jsx)(R.Z,{children:(0,E.jsx)(P,{handleClose:i})})]})},L=function(){var e=(0,p.Z)(),n=(0,C.v9)((function(e){return e.auth})).token,i=(0,C.v9)((function(e){return e.chats})).chats,f=(0,t.useState)(!1),k=(0,s.Z)(f,2),I=k[0],y=k[1];return(0,t.useEffect)((function(){(0,m.I)("/chat",n).then((function(e){if(401==(null===e||void 0===e?void 0:e.status))(0,b.WI)((0,w.kS)());else if(1==e.success){var n,i;(0,b.WI)((0,V.OK)(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(i=n.conversations)||void 0===i?void 0:i.data))}}))}),[]),(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(a.Z,{sx:{position:"relative",width:320,backgroundColor:"light"===e.palette.mode?"#F8FAFF":e.palette.background.paper,boxShadow:"0px 0px 2px rgba(0,0,0,0.25)"},children:(0,E.jsxs)(c.Z,{p:3,spacing:2,sx:{height:"100vh"},children:[(0,E.jsx)(c.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:(0,E.jsx)(o.Z,{variant:"h5",children:"Chats"})}),(0,E.jsx)(c.Z,{sx:{width:"100%"},children:(0,E.jsxs)(g.ol,{children:[(0,E.jsx)(g.cB,{children:(0,E.jsx)(x.Z,{color:"#709CE6"})}),(0,E.jsx)(g.el,{placeholder:"Search...",inputProps:{"aria-label":"search"}})]})}),(0,E.jsxs)(c.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,E.jsx)(o.Z,{variant:"subtitle2",component:l.Z,children:"New Chat"}),(0,E.jsx)(d.Z,{onClick:function(){y(!0)},children:(0,E.jsx)(Z.Z,{style:{color:e.palette.primary.main}})})]}),(0,E.jsx)(u.Z,{}),(0,E.jsxs)(c.Z,{spacing:1,children:[(0,E.jsxs)(c.Z,{direction:"row",alignItems:"center",spacing:1.5,children:[(0,E.jsx)(j.Z,{size:24}),(0,E.jsx)(h.Z,{children:"Archive"})]}),(0,E.jsx)(u.Z,{})]}),(0,E.jsx)(c.Z,{className:"scrollbar",spacing:2,direction:"column",sx:{flexGrow:1,overflow:"scroll",height:"100%"},children:(0,E.jsxs)(c.Z,{spacing:2.4,children:[(0,E.jsx)(o.Z,{variant:"subtitle2",sx:{color:"#676767"},children:"All Chats"}),i.map((function(e,n){return(0,E.jsx)(v.Z,(0,r.Z)({},e),n)}))]})})]})}),I&&(0,E.jsx)(q,{open:I,handleClose:function(){console.log("helel"),y(!1)}})]})},Y=i(9306),B=i(9571),G=i(7248),H=i(3423),z=i(2910),K=i(4059),U=i(9165),X=i(8180),Q=i(8037),J=i(1093),$=i(5041),ee=i(4198),ne=i(6026),ie=i(2040),te=(i(9128),t.forwardRef((function(e,n){return(0,E.jsx)(W.Z,(0,r.Z)({direction:"up",ref:n},e))}))),re=function(e){var n=e.open,i=e.handleClose;return(0,E.jsxs)(S.Z,{open:n,TransitionComponent:te,keepMounted:!0,onClose:i,"aria-describedby":"alert-dialog-slide-description",children:[(0,E.jsx)(F.Z,{children:"Block this contact"}),(0,E.jsx)(R.Z,{children:(0,E.jsx)(B.Z,{id:"alert-dialog-slide-description",children:"Are you sure you want to block this contact?"})}),(0,E.jsxs)(G.Z,{children:[(0,E.jsx)(h.Z,{onClick:i,children:"Cancel"}),(0,E.jsx)(h.Z,{onClick:i,children:"Yes"})]})]})},se=function(e){var n=e.open,i=e.handleClose;return(0,E.jsxs)(S.Z,{open:n,TransitionComponent:te,keepMounted:!0,onClose:i,"aria-describedby":"alert-dialog-slide-description",children:[(0,E.jsx)(F.Z,{children:"Delete this chat"}),(0,E.jsx)(R.Z,{children:(0,E.jsx)(B.Z,{id:"alert-dialog-slide-description",children:"Are you sure you want to delete this chat?"})}),(0,E.jsxs)(G.Z,{children:[(0,E.jsx)(h.Z,{onClick:i,children:"Cancel"}),(0,E.jsx)(h.Z,{onClick:i,children:"Yes"})]})]})},ae=function(){var e=(0,p.Z)(),n=(0,C.I0)(),i=(0,t.useState)(!1),r=(0,s.Z)(i,2),l=r[0],x=r[1],Z=(0,t.useState)(!1),j=(0,s.Z)(Z,2),g=j[0],v=j[1];return(0,E.jsxs)(a.Z,{sx:{width:320,height:"100vh"},children:[(0,E.jsxs)(c.Z,{sx:{height:"100%"},children:[(0,E.jsx)(a.Z,{sx:{boxShadow:"0px 0px 2px rgba(0.25)",width:"100%",backgroundColor:"light"===e.palette.mode?"#F8FAFF":e.palette.background},children:(0,E.jsxs)(c.Z,{sx:{height:"100%",p:2},direction:"row",alignItems:"center",justifyContent:"space-between",spacing:3,children:[(0,E.jsx)(o.Z,{variant:"subtitle2",children:"Contact Info"}),(0,E.jsx)(d.Z,{onClick:function(){n((0,ne.Xk)())},children:(0,E.jsx)(z.Z,{})})]})}),(0,E.jsxs)(c.Z,{className:"scrollbar",sx:{height:"100%",position:"relative",flexGrow:1,overflowY:"scroll"},p:3,spacing:3,children:[(0,E.jsxs)(c.Z,{alignItems:"center",direction:"row",spacing:2,children:[(0,E.jsx)(H.Z,{src:f.We.image.avatar(),alt:f.We.name.firstName,sx:{height:64,width:64}}),(0,E.jsxs)(c.Z,{spacing:.5,children:[(0,E.jsx)(o.Z,{variant:"article",fontWeight:600,children:f.We.name.fullName()}),(0,E.jsx)(o.Z,{variant:"article",fontWeight:500,children:"+94 713725452"})]})]}),(0,E.jsxs)(c.Z,{direction:"row",alignItems:"center",justifyContent:"space-evenly",children:[(0,E.jsxs)(c.Z,{spacing:1,alignItems:"center",children:[(0,E.jsx)(d.Z,{children:(0,E.jsx)(K.Z,{})}),(0,E.jsx)(o.Z,{variant:"overline",children:"Voice"})]}),(0,E.jsxs)(c.Z,{spacing:1,alignItems:"center",children:[(0,E.jsx)(d.Z,{children:(0,E.jsx)(U.Z,{})}),(0,E.jsx)(o.Z,{variant:"overline",children:"Video"})]})]}),(0,E.jsx)(u.Z,{}),(0,E.jsxs)(c.Z,{spacing:.5,children:[(0,E.jsx)(o.Z,{variant:"article",children:"About"}),(0,E.jsx)(o.Z,{variant:"body2",children:"Hi I'm working"})]}),(0,E.jsx)(u.Z,{}),(0,E.jsxs)(c.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,E.jsx)(o.Z,{variant:"subtitle2",children:"Media, Links & Docs"}),(0,E.jsx)(h.Z,{onClick:function(){n((0,ne.RW)("SHARED"))},endIcon:(0,E.jsx)(X.Z,{}),children:"401"})]}),(0,E.jsx)(c.Z,{direction:"row",spacing:2,alignItems:"center",children:[1,2,3].map((function(e){return(0,E.jsx)(a.Z,{children:(0,E.jsx)("img",{src:f.We.image.food(),alt:f.We.name.fullName()})})}))}),(0,E.jsx)(u.Z,{}),(0,E.jsxs)(c.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,E.jsxs)(c.Z,{direction:"row",spacing:2,alignItems:"center",children:[(0,E.jsx)(Q.Z,{size:21}),(0,E.jsx)(o.Z,{variant:"subtitle2",children:"Starred Messages"})]}),(0,E.jsx)(d.Z,{onClick:function(){n((0,ne.RW)("STARRED"))},children:(0,E.jsx)(X.Z,{})})]}),(0,E.jsx)(u.Z,{}),(0,E.jsxs)(c.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,E.jsxs)(c.Z,{direction:"row",spacing:2,alignItems:"center",children:[(0,E.jsx)(J.Z,{size:21}),(0,E.jsx)(o.Z,{variant:"subtitle2",children:"Mute Notifications"})]}),(0,E.jsx)(ie.Z,{})]}),(0,E.jsx)(u.Z,{}),(0,E.jsx)(o.Z,{children:"1 group in common"}),(0,E.jsxs)(c.Z,{direction:"row",spacing:2,alignItems:"center",children:[(0,E.jsx)(H.Z,{src:f.We.image.avatar(),alt:f.We.name.fullName}),(0,E.jsxs)(c.Z,{spacing:.5,children:[(0,E.jsx)(o.Z,{variant:"subtitle2",children:"React Developers"}),(0,E.jsx)(o.Z,{variant:"caption",children:"Kaveena, Pavithra, Ayesha, You"})]})]}),(0,E.jsxs)(c.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,E.jsx)(h.Z,{onClick:function(){x(!0)},startIcon:(0,E.jsx)($.Z,{}),fullWidth:!0,variant:"outlined",children:"Block"}),(0,E.jsx)(h.Z,{onClick:function(){v(!0)},startIcon:(0,E.jsx)(ee.Z,{}),fullWidth:!0,variant:"outlined",children:"Delete"})]})]})]}),l&&(0,E.jsx)(re,{open:l,handleClose:function(){x(!1)}}),g&&(0,E.jsx)(se,{open:g,handleClose:function(){v(!1)}})]})},ce=i(4293),oe=i(8117),le=i(5953),de=i(4559),ue=i(2693),he=i(4741),xe=function(){var e=(0,p.Z)(),n=(0,C.I0)(),i=t.useState(0),r=(0,s.Z)(i,2),l=r[0],u=r[1];return(0,E.jsx)(a.Z,{sx:{width:320,height:"100vh"},children:(0,E.jsxs)(c.Z,{sx:{height:"100%"},children:[(0,E.jsx)(a.Z,{sx:{boxShadow:"0px 0px 2px rgba(0.25)",width:"100%",backgroundColor:"light"===e.palette.mode?"#F8FAFF":e.palette.background},children:(0,E.jsxs)(c.Z,{sx:{height:"100%",p:2},direction:"row",alignItems:"center",spacing:3,children:[(0,E.jsx)(d.Z,{onClick:function(){n((0,ne.RW)("CONTACT"))},children:(0,E.jsx)(de.Z,{})}),(0,E.jsx)(o.Z,{variant:"subtitle2",children:"Shared Messages"})]})}),(0,E.jsxs)(ce.Z,{sx:{px:2,pt:2},value:l,onChange:function(e,n){u(n)},centered:!0,children:[(0,E.jsx)(oe.Z,{label:"Media"}),(0,E.jsx)(oe.Z,{label:"Link"}),(0,E.jsx)(oe.Z,{label:"Docs"})]}),(0,E.jsx)(c.Z,{className:"scrollbar",sx:{height:"100%",position:"relative",flexGrow:1,overflowY:"scroll"},p:3,spacing:1===l?1:3,children:function(){switch(l){case 0:return(0,E.jsx)(le.ZP,{container:!0,spacing:2,children:[0,1,2,3,4,5,6].map((function(e){return(0,E.jsx)(le.ZP,{item:!0,xs:4,children:(0,E.jsx)("img",{src:f.We.image.avatar(),alt:f.We.name.fullName})})}))});case 1:return ue.Hd.map((function(e){return(0,E.jsx)(he.V5,{el:e})}));case 2:return ue._r.map((function(e){return(0,E.jsx)(he.RL,{el:e})}))}}()})]})})},Ze=i(2386),je=function(){var e=(0,p.Z)(),n=(0,C.I0)();return(0,E.jsx)(a.Z,{sx:{width:320,height:"100vh"},children:(0,E.jsxs)(c.Z,{sx:{height:"100%"},children:[(0,E.jsx)(a.Z,{sx:{boxShadow:"0px 0px 2px rgba(0.25)",width:"100%",backgroundColor:"light"===e.palette.mode?"#F8FAFF":e.palette.background},children:(0,E.jsxs)(c.Z,{sx:{height:"100%",p:2},direction:"row",alignItems:"center",spacing:3,children:[(0,E.jsx)(d.Z,{onClick:function(){n((0,ne.RW)("CONTACT"))},children:(0,E.jsx)(de.Z,{})}),(0,E.jsx)(o.Z,{variant:"subtitle2",children:"Starred Messages"})]})}),(0,E.jsx)(c.Z,{className:"scrollbar",sx:{height:"100%",position:"relative",flexGrow:1,overflowY:"scroll"},p:3,spacing:3,children:(0,E.jsx)(Ze.Z,{})})]})})},pe=function(){var e=(0,p.Z)(),n=(0,C.v9)((function(e){return e.app})),i=n.sidebar;return(0,E.jsxs)(c.Z,{direction:"row",sx:{width:"100%"},children:[(0,E.jsx)(L,{}),(0,E.jsx)(a.Z,{sx:{height:"100%",width:i.open?"calc(100vw - 740px)":"calc(100vw - 420px)",backgroundColor:"light"===e.palette.mode?"#F0F4FA":e.palette.background.default},children:(0,E.jsx)(Y.Z,{})}),i.open&&function(){switch(i.type){case"CONTACT":return(0,E.jsx)(ae,{});case"STARRED":return(0,E.jsx)(je,{});case"SHARED":return(0,E.jsx)(xe,{})}}()]})}},9128:function(){}}]);
//# sourceMappingURL=76.3ec63a69.chunk.js.map