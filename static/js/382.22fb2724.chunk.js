"use strict";(self.webpackChunkchat=self.webpackChunkchat||[]).push([[382],{7148:function(e,n,r){r.d(n,{Z:function(){return g}});var t=r(4165),o=r(5861),a=r(6015),i=r(4162),s=r(3423),c=r(1835),l=r(4565),u=r(294),d=r(4142),p=r(5670),h=r.p+"static/media/group-icon.e5cb3c5eb890b0f37932.png",f=r(5623),x=r(159),Z=r(4420),m=r(2789),v=r(184),g=function(e){var n=e.id,r=e.is_group,g=e.name,j=e.users,b=e.created_at,w=e.is_online,C=e.last_message,k=e.unread_count,y=(0,d.Z)(),S=r?h:j[0].profile_photo,I=r?g:j[0].name,T=(0,Z.v9)((function(e){return e.auth})).token,E=function(){var r=(0,o.Z)((0,t.Z)().mark((function r(){var o,a;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,m.I)("/chat/messages",T,{conversation_id:n});case 2:o=r.sent,(a=null===o||void 0===o?void 0:o.data).conversation_element=e,(0,f.WI)((0,x.Z)(a));case 6:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return console.log(e,"props"),(0,v.jsx)(a.Z,{sx:{width:"100%",borderRadius:1,backgroundColor:"light"===y.palette.mode?"#fff":y.palette.background.default},onClick:E,p:2,children:(0,v.jsxs)(i.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,v.jsxs)(i.Z,{direction:"row",spacing:2,children:[w?(0,v.jsx)(p.Z,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:(0,v.jsx)(s.Z,{src:S})}):(0,v.jsx)(s.Z,{src:S}),(0,v.jsx)(c.Z,{}),(0,v.jsxs)(i.Z,{spacing:.3,children:[(0,v.jsx)(l.Z,{variant:"subtitle2",children:I}),(0,v.jsx)(l.Z,{variant:"caption",children:null===C||void 0===C?void 0:C.content})]})]}),(0,v.jsxs)(i.Z,{spacing:2,alignItems:"center",children:[(0,v.jsx)(l.Z,{sx:{fontWeight:600},variant:"caption",children:b}),(0,v.jsx)(u.Z,{color:"primary",badgeContent:k})]})]})})}},3614:function(e,n,r){r.d(n,{ol:function(){return a},cB:function(){return i},el:function(){return c}});var t=r(277),o=r(2065),a=(0,t.ZP)("div")((function(e){var n=e.theme;return{position:"relative",borderRadius:20,backgroundColor:(0,o.Fq)(n.palette.background.default,1),marginRight:n.spacing(2),marginLeft:0,width:"100%"}})),i=(0,t.ZP)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),s=r(1169),c=(0,t.ZP)(s.ZP)((function(e){var n=e.theme;return{color:"inherit","& .MuiInputBase-input":{padding:n.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(n.spacing(4),")"),width:"100%"}}}))},5670:function(e,n,r){var t=r(225),o=r(294),a=(0,t.Z)(o.Z)((function(e){var n=e.theme;return{"& .MuiBadge-badge":{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(n.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}));n.Z=a},6522:function(e,n,r){var t=r(1413),o=(r(2791),r(1134)),a=r(184);n.Z=function(e){var n=e.children,r=e.onSubmit,i=e.methods;return(0,a.jsx)(o.RV,(0,t.Z)((0,t.Z)({},i),{},{children:(0,a.jsx)("form",{onSubmit:r,children:n})}))}},172:function(e,n,r){r.d(n,{Z:function(){return u}});var t=r(1413),o=r(5987),a=r(1134),i=r(2262),s=r(5533),c=r(184),l=["name","label","helperText"];function u(e){var n=e.name,r=e.label,u=e.helperText,d=(0,o.Z)(e,l),p=(0,a.Gc)(),h=p.control,f=p.setValue;return(0,c.jsx)(a.Qr,{name:n,control:h,render:function(e){var o=e.field,a=e.fieldState.error;return(0,c.jsx)(i.Z,(0,t.Z)((0,t.Z)((0,t.Z)({},o),{},{fullWidth:!0,value:"number"===typeof o.value&&0===o.value?"":o.value,onChange:function(e,r){return f(n,r,{shouldValidate:!0})},error:!!a},d),{},{renderInput:function(e){return(0,c.jsx)(s.Z,(0,t.Z)({label:r,error:!!a,helperText:a?a.message:u},e))}}))}})}},4499:function(e,n,r){r.d(n,{a:function(){return l}});r(6522);var t=r(1413),o=r(5987),a=r(1134),i=r(5533),s=r(184),c=["name","helperText"];function l(e){var n=e.name,r=e.helperText,l=(0,o.Z)(e,c),u=(0,a.Gc)().control;return(0,s.jsx)(a.Qr,{name:n,control:u,render:function(e){var n=e.field,o=e.fieldState.error;return(0,s.jsx)(i.Z,(0,t.Z)((0,t.Z)({},n),{},{fullWidth:!0,value:"number"===typeof n.value&&0===n.value?"":n.value,error:!!o,helperText:o?o.message:r},l))}})}},1957:function(e,n,r){r.r(n);var t=r(1413),o=r(885),a=r(4162),i=r(6015),s=r(4565),c=r(6283),l=r(3811),u=r(1872),d=r(2791),p=r(3614),h=r(703),f=r(7320),x=r(4142),Z=r(7578),m=(r(9128),r(9887),r(7148)),v=r(5058),g=r(2789),j=r(5623),b=r(1317),w=r(4420),C=r(184);n.default=function(){var e=(0,x.Z)(),n=(0,d.useState)(!1),r=(0,o.Z)(n,2),k=r[0],y=r[1],S=(0,d.useState)([]),I=(0,o.Z)(S,2),T=I[0],E=I[1],G=(0,w.v9)((function(e){return e.auth})).token;return(0,d.useEffect)((function(){(0,g.I)("/chat",G,{filter:"groups"}).then((function(e){if(console.log("api response",e),401==(null===e||void 0===e?void 0:e.status))console.log("lgin"),(0,j.WI)((0,b.kS)());else if(1==e.success){var n,r;E(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(r=n.conversations)||void 0===r?void 0:r.data)}}))}),[]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(a.Z,{direction:"row",sx:{width:"100%"},children:(0,C.jsx)(i.Z,{sx:{height:"100vh",backgroundColor:function(e){return"light"===e.palette.mode?"#F8FAFF":e.palette.background},width:320,boxShadow:"0px 0px 2px rgba(0,0,0,0.25)"},children:(0,C.jsxs)(a.Z,{p:3,spacing:2,sx:{maxHeight:"100vh"},children:[(0,C.jsx)(a.Z,{children:(0,C.jsx)(s.Z,{variant:"h5",children:"Group"})}),(0,C.jsx)(a.Z,{sx:{width:"100%"},children:(0,C.jsxs)(p.ol,{children:[(0,C.jsx)(p.cB,{children:(0,C.jsx)(h.Z,{color:"#709CE6"})}),(0,C.jsx)(p.el,{placeholder:"Search...",inputProps:{"aria-label":"search"}})]})}),(0,C.jsxs)(a.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,C.jsx)(s.Z,{variant:"subtitle2",component:c.Z,children:"Create New Group"}),(0,C.jsx)(l.Z,{onClick:function(){y(!0)},children:(0,C.jsx)(f.Z,{style:{color:e.palette.primary.main}})})]}),(0,C.jsx)(u.Z,{}),(0,C.jsx)(a.Z,{spacing:3,className:"scrollbar",sx:{flexGrow:1,overflowY:"scroll",height:"100%"},children:(0,C.jsx)(Z.l,{timeout:500,clickOnTrack:!1,children:(0,C.jsxs)(a.Z,{spacing:2.5,children:[(0,C.jsx)(s.Z,{variant:"subtitle2",sx:{color:"#676667"},children:"Pinned"}),(0,C.jsx)(s.Z,{variant:"subtitle2",sx:{color:"#676667"},children:"All Groups"}),T.map((function(e){return console.log("elelelee",e),(0,C.jsx)(m.Z,(0,t.Z)({},e))}))]})})})]})})}),k&&(0,C.jsx)(v.Z,{open:k,handleClose:function(){y(!1)}})]})}},5058:function(e,n,r){r.d(n,{Z:function(){return C}});var t=r(4165),o=r(5861);var a=r(1413),i=r(4695),s=r(2232),c=r(4162),l=r(997),u=r(788),d=r(464),p=r(8440),h=r(2791),f=r(1134),x=r(8007),Z=r(6522),m=r(4499),v=r(172),g=r(184),j=["Name 1","Name 2","Name 3"],b=h.forwardRef((function(e,n){return(0,g.jsx)(s.Z,(0,a.Z)({direction:"up",ref:n},e))})),w=function(e){var n=e.handleClose,r=x.Ry().shape({title:x.Z_().required("Title is required"),members:x.IX().min(2,"Must have at least 2 members")}),a=(0,f.cI)({resolver:(0,i.X)(r),defaultValues:{title:"",members:[]}}),s=a.handleSubmit;!function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(a.formState);var u=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log("Data",n)}catch(r){console.log(r)}case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,g.jsx)(Z.Z,{methods:a,onSubmit:s(u),children:(0,g.jsxs)(c.Z,{spacing:3,children:[(0,g.jsx)(m.a,{name:"title",label:"Title"}),(0,g.jsx)(v.Z,{name:"members",label:"Members",multiple:!0,freeSolo:!0,options:j.map((function(e){return e})),ChipProps:{size:"medium"}}),(0,g.jsxs)(c.Z,{spacing:2,direction:"row",alignItems:"center",justifyContent:"end",children:[(0,g.jsx)(l.Z,{onClick:n,children:"Cancel"}),(0,g.jsx)(l.Z,{type:"submit",variant:"contained",children:"Create"})]})]})})},C=function(e){var n=e.open,r=e.handleClose;return(0,g.jsxs)(u.Z,{fullWidth:!0,maxWidth:"xs",open:n,TransitionComponent:b,keepMounted:!0,sx:{p:4},children:[(0,g.jsx)(d.Z,{sx:{mb:3},children:"Create New Group"}),(0,g.jsx)(p.Z,{children:(0,g.jsx)(w,{handleClose:r})})]})}},2789:function(e,n,r){r.d(n,{I:function(){return s}});var t=r(4165),o=r(1413),a=r(5861),i=r(8770);function s(e){return c.apply(this,arguments)}function c(){return c=(0,a.Z)((0,t.Z)().mark((function e(n){var r,a,s,c,l,u,d,p,h,f,x,Z,m=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.length>1&&void 0!==m[1]?m[1]:null,a=m.length>2&&void 0!==m[2]?m[2]:{},s=m.length>3&&void 0!==m[3]?m[3]:"GET",c=m.length>4&&void 0!==m[4]?m[4]:{},console.log("api data payload ",a),e.prev=5,s=s.toUpperCase(),l=i.t3+n,"GET"===s&&Object.keys(a).length>0&&(u=new URLSearchParams(a).toString(),l+="?".concat(u)),d={method:s,headers:(0,o.Z)((0,o.Z)({"Content-Type":"application/json"},r?{Authorization:"Bearer ".concat(r)}:{}),c)},"GET"!==s&&(d.body=JSON.stringify(a)),e.next=13,fetch(l,d);case 13:if((p=e.sent).ok){e.next=28;break}return f="API Error: ".concat(p.status," ").concat(p.statusText),x={},e.prev=17,e.next=20,p.json();case 20:x=e.sent,f=x.message||f,e.next=27;break;case 24:e.prev=24,e.t0=e.catch(17),console.error("Error parsing error response JSON:",e.t0);case 27:return e.abrupt("return",(0,o.Z)({status:p.status,message:f,response:x,success:null===(h=x)||void 0===h?void 0:h.success},"API Error"===f?{}:{errorDetails:f}));case 28:return e.next=30,p.json();case 30:return Z=e.sent,e.abrupt("return",Z);case 34:return e.prev=34,e.t1=e.catch(5),e.abrupt("return",{status:0,message:"Internal Error: ".concat(e.t1.message)});case 37:case"end":return e.stop()}}),e,null,[[5,34],[17,24]])}))),c.apply(this,arguments)}},9128:function(){}}]);
//# sourceMappingURL=382.22fb2724.chunk.js.map